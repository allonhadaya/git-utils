#!/bin/bash 

cd ${1-'.'} 

for file in * 
do 
  if [ -d $file ] 
  then 
    cd $file 
    if [ -d '.git' ] 
    then 
      M='Pulling' 
      echo ${M-''} `pwd` `git branch 2>/dev/null | grep -e '^*' | sed -E 's/^\* (.+)$/(\1) /'` 
      git fetch && git pull origin $(git rev-parse --symbolic-full-name --abbrev-ref HEAD) 
    fi 
    cd ../ 
  fi 
done