#!/bin/bash 

cd ${1-'.'} 

for file in * 
do 
  if [ -d $file ] 
  then 
    cd $file 
    if [ -d '.git' ] 
    then 
      M='Status' 
      echo ${M-''} `pwd` `git branch 2>/dev/null | grep -e '^*' | sed -E 's/^\* (.+)$/(\1) /'` 
      git status && read -p '...'; echo '' 
    fi 
    cd ../ 
  fi 
done